http://www.mitbbs.com/article_t/JobHunting/32288151.html
发信人: jilongs (求offer), 信区: JobHunting
标  题: 这周一的G家onsite，虽然挂了，还是发个面筋攒人品吧
发信站: BBS 未名空间站 (Fri Dec 21 20:52:48 2012, 美东)

这周一google LA onsite的，结果周三晚上就通知我说挂了。HR还安慰我说我人很nice
，大家都很喜欢和我交流，只是我可能还缺乏一些经验，让我再等一段时间再申请试试
。还让我take care of myself。

整理一下心情，把onsite的面筋发出来，攒一下人品吧。
我这次onsite其实算是很幸运的了，没有遇到三哥，全是白人，虽然有一个是俄罗斯大
叔，不过我感觉他应该是对我印象最好的一个了。
第一个是个美国小伙儿，先让我放送下，介绍一下自己，以及最近做的比较大的
project。然后让我描述了一下如何实现hash table。我描述了chain实现的，和open 
address实现的，然后他说假如有一个iterator，可以对chain的hash table进行
iterate，它有两个函数,next(), hasNext().问我如何修改hash table的插入和删除操
作以维护这个iterator的数据结构。当然，hash table本身的操作是O(1)的，所以要求
维护这个数据结构的时间也是O(1)。压根没想过……乱七八糟说了一堆，他大概满意了
之后，开始写代码，写了一半时间到了，他说就这样吧。

第二个是个看起来三十多岁的美国人，比较严肃，从头到尾都没有露出过笑容。他问我
知道chrome么，我说知道。他说chrome地址栏有个功能，就是输入一个词的时候，会跳
出以输入的字符为前缀的suggestion，这些suggestion是从历史记录和书签来的。问我
对这个实现的数据结构有什么看法。我说了一下需要记录每个书签的content以及最近
访问的次数，然后根据访问次数排序。他又问那假如有连个书签，一个是在一个月之前
访问了500次，而另一个是在昨天访问了100次，哪个应该在前面呢？我说我觉得那应该
记录每次访问的时间，然后给分配一个权重，然后每天将已有的记录的权重降低。他差
不多满意了，有问我那这个根据输入内容给出suggestion的实现应该怎么做呢？我说应
该用个后缀树类似的数据结构。他让我描述一下，我就画图描述了一下，他问我能不能
优化一下，我说可以把节点压缩一下。他又问那压缩之后再插入新节点怎么办呢？我说
必要的时候split一下。他貌似还比较满意，就让我写代码实现一下……我日，彻底没
写过后缀树啊，只是知道而已，硬着头皮瞎写了。写的差不多了之后，他看到我每个节
点申请了一个固定大小的数组来维护子节点，说有些浪费空间，能不能优化一下，想了
半天说可以用BST。他貌似对这个答案比较满意。然后时间就差不多到了。

接下来就是lunch了。吃的东西还是很不错的。只是不知道为什么，google LA里面中国
人好少啊，烙印也没几个。然后逛了一圈就不说了。

lunch过后，第三个面试，就是那个俄罗斯大叔，刚一见面把我吓坏了，操着一口卷舌
音，不过几句交流之后慢慢适应了。我是C++的，大叔就问我现在是个什么等级，我说
应该是beginner，大叔咋舌，然后又问我那最熟悉的是哪种语言，我不好意思的说是C+
+，我说我知道怎么用，只是对C++ STL等底层的实现不是特别了解。大叔说好吧，那你
告诉我explicit是干嘛的，擦了，这个当初实习的时候见过，可是没用过啊，一时半会
儿还真想不起来，就说不知道。大叔又问我voltile是干嘛的，我说这个我知道，是告
诉编译器每次读取这个变量的时候要直接读原始数据，不读缓存里的。大叔说差不多是
这个意思。然后问我知道template么。就让我用template写了个斐波那契的实现。我当
时直接写了递归的那种，现在回想起来其实应该写iterative的比较好，当时紧张了。
大叔看了说还行，然后说下一个问题，就是有一个DoubleLinkedList，但是不知道头和
尾在哪里，然后有一个vector记录了其中的一些节点，让我找出所给输入中islands的
个数。我一看还是比较简单的，哗哗就开始写，基本也没什么bug，就写完了。大叔一
看说写的还行，应该没啥问题，只是有个小地方可以优化一下。我看了半天不知道说的
是哪里，大叔说函数的参数那里，我说对，可以改成引用，那样要快一些。大叔说还可
以优化，我就不知道了，最后大叔说应该加个const就更完美了。然后大叔说还剩点儿
时间，就给我介绍了一下google，说如何如何好，还说google里有好多人和我一样也适
用python的，我当时听了觉得有戏啊，心里乐滋滋的。可惜还是挂了。

大叔走了之后，来了另一个美国小伙，问了我一个DP问题，大概是这样的，有一个长为
L的木料需要割开，割的位置在一个数组里A[1...N]，从一个地方切开的cost是当前所
切木料的长度，按不同的顺序切割，得到的total cost是不一样的，问我怎么切cost最
小。这个题真冤，我一看就会，然后给他写了个递归式，写了base case，又画了个二
维数组给他简单解释了一下，就开始写代码了。结果可能是用脑过度，脑子在写第三层
循环的时候不好使了，看都没看自己写的递归式，直接瞎写了一个……后来他说貌似有
点儿问题，我一看还真是，又来回改了半天，最后改好之后还给了我一个test case，
让我一步一步的给他跑一遍……跑差不多了，时间到了，小伙儿说答案应该是对的。哎
，假如当时努把力，一次写对，估计就不用浪费时间跑test case了。说不定还可以再
写一道题。

完了之后是另一个美国大叔。问我假如有个系统，要记录访问的次数，然后有个
increase的操作，问我应该怎么实现，才能返回最近一分钟的访问次数和最近一个小时
的访问次数。这个题在版上见过，之前也想过，所以还是比较淡定的说出了想法。他觉
得还不错，又问我要是increase的操作不是很频繁怎么办，我想了想说可以用个queue
，每次将最近的访问push进去，然后将front端超过一分钟的pop出来。他也很满意。然
后说，那咱们来说个iterator的故事吧，然后就开始说next()和hasNext()，我赶紧制
止，说第一个面试官已经问过了。他显得略慌，拿出了自己的题库开始看，貌似没有什
么比较合适的问题。就说，那你把刚才说的那个solution实现一下吧……好吧，我就无
奈的开始写。写的还比较顺利。没有什么bug。写完了，时间也差不多到了。他就walk 
me out了，然后让前台给了我个mark杯留念。

哎，感觉自己好水啊……希望这碗面筋对各位大大们有用。
